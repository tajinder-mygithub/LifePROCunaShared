IF EXISTS(select * from INFORMATION_SCHEMA.COLUMNS 
where TABLE_NAME = 'PMESG' AND COLUMN_NAME='MESSAGE_INFO' AND DATA_TYPE='binary')
ALTER TABLE PMESG ALTER COLUMN
       MESSAGE_INFO CHAR(200) NOT NULL
;      
IF EXISTS(select * from INFORMATION_SCHEMA.COLUMNS 
where TABLE_NAME = 'PMESG' AND COLUMN_NAME='MESSAGE_INFO' AND DATA_TYPE='char')
ALTER TABLE PMESG ALTER COLUMN
       MESSAGE_INFO NCHAR(200) NOT NULL
;
IF EXISTS(select * from INFORMATION_SCHEMA.COLUMNS 
where TABLE_NAME = 'PMESG' AND COLUMN_NAME='ROW_COLUMN')
ALTER TABLE PMESG DROP COLUMN
       ROW_COLUMN
;
IF EXISTS(select * from INFORMATION_SCHEMA.COLUMNS 
where TABLE_NAME = 'PMESG' AND COLUMN_NAME='ROW_SEQ')
ALTER TABLE PMESG DROP COLUMN
       ROW_SEQ
;
--Drop Primary Key
IF EXISTS (SELECT CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
           WHERE CONSTRAINT_NAME = 'KPMESG')
ALTER TABLE PMESG DROP CONSTRAINT KPMESG
;
IF EXISTS(select * from INFORMATION_SCHEMA.COLUMNS 
where TABLE_NAME = 'PMESG' AND COLUMN_NAME='MESG_KEY0')
ALTER TABLE PMESG DROP COLUMN
       MESG_KEY0
;
--Rebuild Primary Key
IF NOT EXISTS (SELECT CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
           WHERE CONSTRAINT_NAME = 'KPMESG')
ALTER TABLE  PMESG
    ADD CONSTRAINT KPMESG             PRIMARY KEY (
    MESSAGE_NUMBER,
    USER_LOCALITY,
    USER_LANGUAGE     )
;
IF EXISTS (SELECT table_name FROM INFORMATION_SCHEMA.TABLES WHERE table_schema = 'dbo' AND table_name = 'PMESG_KEY1')
   DROP TABLE [dbo].[PMESG_KEY1]
;
IF EXISTS (SELECT table_name FROM INFORMATION_SCHEMA.TABLES WHERE table_schema = 'dbo' AND table_name = 'PMESG_KEY2')
   DROP TABLE [dbo].[PMESG_KEY2]